<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/images/logo.svg">
    <title>JKSS - GALLERY</title>
    <link rel="stylesheet" href="..//css/gallery-style.css">
    <link rel="stylesheet" href="..//css/main-style.css">
    <link rel="stylesheet" href="..//css/loading_screen.css">
    <script src="..//js/loading_screen.js"></script>
</head>

<hr><div id="loading-screen"><img src="../images/logo.svg"></div>
<body>
    <header>
        <div class="topbar" style="display:none;">
            <div class="phone-number">
                <div><a href="#">+91&nbsp;1234567890</a></div>
                <div><a href="#">+91&nbsp;1234567890</a></div>
                <div><a href="#">exapmle@gmail.com</a></div>
            </div>
            <div class="helpful-links">
                <div><a href="#">Skip to main</a></div>
                <div><a href="#">Help</a></div>
            </div>
        </div>
        <nav class="nav">
            <div class="logo"><a href="#"><img class="logo-image" id="loading-image" src="../images/logo.svg" alt="JKSS"></a></div>
            <div class="nav-menu">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="./cources.html">Cources</a></li>
                    <li><a href="./contact.html">Contact&nbsp;Us</a></li>
                    <li><a class="active" href="./gallery.html">Gallery</a></li>
                </ul>
            </div><a href="javascript:void(0);" class="icon" onclick="myFunction()">
                <i class="fa fa-bars"></i>
                <div class="hamburger"><img class="hamburger-image" src="../images/icon-hamburger.svg" alt=""></div>
            </a>
        </nav>
        <div class="hamnav">
            <div id="myLinks">
                <a href="../index.html">Home</a>
                <a href="../pages/about.html">About</a>
                <a href="../pages/cources.html">Courses</a>
                <a href="../pages/contact.html">Contact</a>
                <a href="../pages/gallery.html">Gallery</a>
            </div>
        </div>
    </header>
    <main>
        <h1>Image Gallery of JKSS</h1>
        <div id="gallery" class="container-fluid">

        </div>
    </main>
    <div class="footbar">
        <div class="logo"><img class="logo-image" src="../images/logo.svg" alt=""></div>
        <div class="Menus">
            <div class="bottom-links">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="./gallery.html">Gallery</a></li>
                    <li><a href="./contact.html">Contact&nbsp;Us</a></li>
                </ul>
            </div>
            <div class="bottom-links">
                <ul>
                    <li><a href="./cources.html">Cources</a></li>
                    <li><a href="./about.html">About&nbsp;US</a></li>
                    <li><a href="#">Important &nbsp;Links</a></li>
                </ul>
            </div>
        </div>
        <div class="form">
            <form action="" class="form1">
                <div class="input"><input type="text" placeholder="username"></div>
                <div class="input"><input type="email" placeholder="emailid"></div>
                <div><input type="submit" value="SUBMIT"></div>
            </form>
        </div>
    </div>
    <script>
   let numOfPhotos = 93;
let numOfVideos = 8;
let currentIndex = 1;

const options = {
  root: null, // the element that is used as the viewport
  rootMargin: "0px", // margin around the root element
  threshold: 0.1 // the proportion of the element that needs to be in the viewport before it's considered visible
};

const observer = new IntersectionObserver(onIntersection, options);

for (let i = 1; i <= numOfPhotos + numOfVideos; i++) {
  let element = i > numOfPhotos ? document.createElement("video") : document.createElement("img");
  element.src = ""; // initially set the source to an empty string
  element.dataset.src = i > numOfPhotos ? `../videos/1 (${i-numOfPhotos}).mp4` : `../photos/1 (${i}).jpg`; // set the data-src attribute to the actual file path
  element.dataset.srcset = i > numOfPhotos ? `../videos/1 (${i-numOfPhotos}).mp4` : `../photos/1 (${i}).jpg`; // set the data-srcset attribute to the actual file path
  if(i > numOfPhotos){
    element.classList.add("vid");
    element.setAttribute("controls", "");
  }
  element.setAttribute("srcset", element.dataset.srcset); // set the srcset attribute to the data-srcset attribute
  observer.observe(element);
  document.getElementById("gallery").appendChild(element);
}

function onIntersection(entries) {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.src = entry.target.dataset.src;
      console.log(1);
      observer.unobserve(entry.target);
    }
  });
}



        

    </script>
</body>

</html>